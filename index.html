<!DOCTYPE html>
<html>
    <head>
        <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-auth-compat.js"></script>

        <script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore-compat.js"></script>

        <script src="https://www.gstatic.com/firebasejs/ui/6.1.0/firebase-ui-auth.js"></script>
        <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.1.0/firebase-ui-auth.css" />


    </head>

    <body>

        <!-- The surrounding HTML is left untouched by FirebaseUI.
            Your app may use that space for branding, controls and other customizations.-->
        <h1>
            <center>  Sign Into Soap2Day Download Manager </center>
        </h1>
        <div id="firebaseui-auth-container"></div>
        <div id="loader">Loading...</div>


        <script>
            // import firebase from "firebase/compat/app";
            // // Required for side-effects
            // import "firebase/firestore";
            // Import the functions you need from the SDKs you need
            // TODO: Add SDKs for Firebase products that you want to use
            // https://firebase.google.com/docs/web/setup#available-libraries
          
            // Your web app's Firebase configuration
            const firebaseConfig = {
              apiKey: "AIzaSyD-HZjS8ptgiXrCLarNxXAfCAgLXrgMrkA",
              authDomain: "delicious-soap-auth-server.firebaseapp.com",
              projectId: "delicious-soap-auth-server",
              storageBucket: "delicious-soap-auth-server.appspot.com",
              messagingSenderId: "735711569126",
              appId: "1:735711569126:web:efecd43c244373d3afc727"
            };

var uiConfig = {
    callbacks: {
        signInSuccessWithAuthResult: function(authResult, redirectUrl) {
        // User successfully signed in.
        // Return type determines whether we continue the redirect automatically
        // or whether we leave that to developer to handle.
        return true;
    },
    uiShown: function() {
        // The widget is rendered.
        // Hide the loader.
        document.getElementById('loader').style.display = 'none';
    }
    },
    // Will use popup for IDP Providers sign-in flow instead of the default, redirect.
    signInFlow: 'popup',
    signInSuccessUrl: '/manager',
    signInOptions: [
    // Leave the lines as is for the providers you want to offer your users.
        firebase.auth.EmailAuthProvider.PROVIDER_ID
    ],
    // Terms of service url.
    tosUrl: '<your-tos-url>',
    // Privacy policy url.
    privacyPolicyUrl: '<your-privacy-policy-url>'
};

            const app = firebase.initializeApp(firebaseConfig)

            const ui = new firebaseui.auth.AuthUI(firebase.auth());
            // Initialize Firebase

            ui.start('#firebaseui-auth-container', uiConfig)

            // // Initialize the FirebaseUI Widget using Firebase.
            // var ui = new firebaseui.auth.AuthUI(firebase.auth())

            // ui.start('#firebaseui-auth-container', {
            //     signInOptions: [
            //     firebase.auth.EmailAuthProvider.PROVIDER_ID
            //     ],
            //     // Other config options...
            // });   

            const db = firebase.firestore();

            db.collection("users").get().then((query) => {
                console.log(query)
            })
        </script>

    </body>
</html>